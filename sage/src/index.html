{% extends 'base.html' %}

{% block content %}
<article>
<section class="content">

<div class="indextable">
{% for group in index|groupby('group') %}
    {% if group.grouper != none %}
    <div>
       <div><h1>{{ group.grouper|title }}</h1></div>
    </div>
    {% endif %}

      {% for T in entrytypes %}
        {% for entry in group.list|indexsort %}
        {% if entry.type == T %}
        <div>
            <div class="{{ entry.type }}">
                <a href='{{ entry.href }}.html'><span></span>{{ entry.title }}</a>
            </div>
            {%- if entry.type == "dir" -%}
                <div><a knowl="{{ namespace }}/{{ entry.href }}">Show Index</a></div>
            {%- else -%}
                <div>
                {% set descr = entry.description or "preview" -%}
                <a knowl="{{ namespace }}/{{ entry.href }}" limit="3">{{ descr }}</a> {# &#8650; #}
                </div>
            {%- endif %}
            {# <a href='{{ entry.href }}.html'>open</a> #}
        </div>
        {% endif %}
        {% endfor %}
      {% endfor %}

{% endfor %}
</div>

</section>
</article>
{% endblock %}