{% extends 'base.html' %}

{% block content %}
<article>
<section class="content">

<div class="indextable">
{% for group in index|groupby('group') %}
    {% if group.grouper != none %}
    <h1>{{ group.grouper|title }}</h1>
    {% endif %}

    {% for T in entrytypes %}
        {% for entry in group.list|indexsort %}
        {% if entry.type == T %}
            <a class="{{ entry.type }}"
               href='{{ entry.href }}.html'>
                <div><span></span>{{ entry.title }}</div>

            {%- if entry.type == "dir" -%}
                <div><div knowl="{{ namespace }}/{{ entry.href }}">Show Index</div></div>
            {%- else -%}
                {% set descr = entry.description or "preview" -%}
                <div><div knowl="{{ namespace }}/{{ entry.href }}" limit="3">{{ descr }}</div></div> {# &#8650; #}
            {%- endif %}
            </a>
            {# <a href='{{ entry.href }}.html'>open</a> #}
        {% endif %}
        {% endfor %}
    {% endfor %}
{% endfor %}
</div>

</section>
</article>
{% endblock %}